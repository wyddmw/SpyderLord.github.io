<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         BeiYuu
    * Revised:        Mukosame
    -->
    <meta charset="utf-8" />
    <title>FCN_Net | Spyder's blog</title>
    <meta name="author" content="SpyderLord" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Everything about SpyderLord" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/.vscode" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">SpyderLord</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="https://github.com/SpyderLord/" target="_blank" style="margin-left:-5px;"><img src="https://github.com/favicon.ico" alt="" width="22"/></a>
           <!-- <a href="http://www.zhihu.com/people/xiang-xiao-yu-20" target="_blank" style="text-align:right"><img src="http://www.zhihu.com/favicon.ico" alt="" width="22"/></a>-->
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/FCN" title="FCN_Net">FCN_Net</a></h1>
        <p class="entry-date">2018-04-10</p>
        <h2 id="fcn_net">FCN_Net</h2>
<h3 id="写在前面-2018-03-28">写在前面 2018-03-28</h3>
<p>　　FCN是之前已经看完了的论文了,因为显卡内存不够的问题,虽然有demo的程序,但是始终没有能够运行起来这个程序,本来想着往下继续看下去吧,但是看到MultiNet之后,发现这部分的基础太薄弱了,虽然MultiNet的论文本身并没有特别难理解的,但是在程序u运行部分,我还是被困住了,而且感觉这一困就是快一周了,始终没有找到在论文或是在程序运行上的突破口,程序确实看不懂,有一点我需要承认的是,在之前做车的时候,我就表现出了一种惰性,对于自己理解起来的程序,我总是不愿意静心去好好看看代码的结构,到底是如何实现的,其实我也想跳过去不看,打退堂鼓,然而任务横亘在面前真的是跳不过去啊…长时间陷在找不到突破口的阶段中,感觉时间没有完全用来去解决需要解决的问题,都花在一些不必要的设置上了,所以效率就很低.<br /></p>
<h3 id="分割线2018-04-10">分割线　2018-04-10</h3>
<p>　　论文基本上看完了，代码也跑过一个demo，现在重新回来看这个网络结构，主要是在上采样部分还是有一点内容不太理解，在最优化部分是如何进行optimization的，在dataset上的设计是什么样的。<br /></p>
<h4 id="upsampledeconvbilinear-kernels">upsample|deconv|bilinear kernels</h4>
<p>　　终于差不多搞明白了在FCN中出现的这些名词之间的关系。首先，明确upsample的作用是进行放大，几乎都是采用内插值的方法，在paper中也提到了，使用的方法是双线性内插的方法，和数字图像处理中使用的双线性内插是相同的原理。因为是进行语义分割的任务，我们需要图像在空间上的信息，从卷积层到全连接层的这个过程会丢失掉空间位置的信息，所以我们需要对CNN的输出进行upsample操作，得到和原始输入图像相同大小的输出。在知乎上看到了答案，印证了自己的想法，就是如果FCN上采样部分的操作就是双线性内插法的过程。<br />
　　可以这么说——deconv/upsample差不多可以认为是插值的一种形式。<br />
　　自己理解一下子哈，应该就是通过deconv去实现一下bilinear。在CSDN上的一篇博客中，作者说道，fcn中的源码对卷积核的双线性插值进行初始化，看来确实是在deconv的过程中去执行双线性插值的运算。在FCN paper中说了，通过transpose conv可以实现learnable upsample。在paper中，作者说的是deconv中的kernel是可以学习即改变的，同样也可以是固定的值。如果是固定的kernel我们完全可以直接设定好内插中的参数，这样做的话，整个网络中用到的超参数实际上就是CNN中的conv部分的超参数了～上面这小部分是自己的猜想，没有看代码验证自己想的对不对。<br />
　　猛地感觉FCN有点厉害了，可以使用CNN训练的网络，教会机器识别单一的某个物体，然后给出综合的一张图，机器就能够通过bilinear进行上采样，最终实现semantic segmentation，想一下，其实还是应该是特征信息已经通过CNN提取出来了，然后从featuremap到heatmap，语义分割bingo～太厉害了。<br /></p>

<p><img src="/downloads/brief_FCN.png" alt="" />
<img src="/downloads/FCN_architecture.png" alt="" />
<img src="/downloads/FCN_heatmap.png" alt="" />
　　写到这里已经是晚上1点了，开始在实验室过夜的生活，坚持一个月，直到项目结题。</p>
<h3 id="分割线-2018-04-10-0950">分割线 2018-04-10 09：50</h3>
<p>　　接着凌晨时候的思路想下去，猜测到在FCN中，损失函数部分应该和CNN中模型的损失函数是相同的，意思是，计算的应该是CNN中的损失函数。也就是整个FCN就是建立在CNN的基础上的，不需要进行新的网络的参数的训练，只要能够把CNN的分类网络训练好，我们就能够将参数进行保存，然后直接使用。我觉得这就是为什么在demo中，直接使用的是VGG16网络的原因。</p>
<h3 id="分割线-2018-04-12">分割线 2018-04-12</h3>
<p>　　已经确认的一点就是上面说的教会机器识别一个物体然后通过upsample就能够得到对应的语义图是不正确的。我们是不能从classification任务直接得到semantic segmentation的，上面我的理解不正确，在<a href="https://spyderlord.github.io/FCN_Net%E7%BB%93%E6%9E%84%E7%9A%84%E4%B8%80%E7%82%B9%E8%A1%A5%E5%85%85">FCN_Net结构的一点补充</a>中能够看到对这个问题的纠正。</p>

    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/Optimization">Optimization</a></li>
        
            <li><a href="/%E5%85%B3%E4%BA%8E%E6%89%A7%E8%A1%8C%E5%8A%9B">关于执行力</a></li>
        
            <li><a href="/FCN_Net%E7%BB%93%E6%9E%84%E7%9A%84%E4%B8%80%E7%82%B9%E8%A1%A5%E5%85%85">FCN_Net的补充</a></li>
        
            <li><a href="/FCN">FCN_Net</a></li>
        
            <li><a href="/%E6%B8%85%E6%98%8E%E5%9C%A8%E5%8C%97%E4%BA%AC">清明在北京</a></li>
        
            <li><a href="/%E5%85%B3%E4%BA%8E%E5%86%99%E8%87%AA%E8%8D%90%E4%BF%A1">关于写保研自荐信</a></li>
        
            <li><a href="/overfit">Overfitting</a></li>
        
            <li><a href="/ordinary-vs-cnn">普通神经网络和卷积神经网络之间比较</a></li>
        
            <li><a href="/multinet">MultiNet学习</a></li>
        
            <li><a href="/first">第一篇博文</a></li>
        
            <li><a href="/end-to-end">end-to-end</a></li>
        
            <li><a href="/WhyDeeplearning">WhyDeepLearning</a></li>
        
            <li><a href="/DataProblem">MiniDataSet</a></li>
        
        </ul>

        <h2>Dump</h2>
        <ul class="artical-list">
        
            <li><a href="/iteration%E5%92%8Cepoch">iteration和epoch比较</a></li>
        
            <li><a href="/Batch_Normalization">Batch_Normalization</a></li>
        
            <li><a href="/Memory_arrangement">linux动态内存管理</a></li>
        
            <li><a href="/ground_truth">ground truth</a></li>
        
            <li><a href="/VGG16">CNN_Architecture</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>


    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>
</body>
</html>
