---
layout: post
category: blog
title: ubuntu16.04安装显卡驱动及cuda
description: caffe的使用需要cuDNN5.0和cuda8.0的版本，tensorflow支持cuDNN6.0，按照之前的经验来看，安装低版本的更加稳定安全
---

## 一些准备工作
　　在网上搜索到了很多不同的教程，但是在自己测试了之后发现其实效果不太理想，都忘记了自己第一次安装cuda和cuDNN的时候是什么样的方法了，重新记录一下自己的这次安装过程，为之后再次装系统打基础(手动捂脸.jpg)。<br>
　　给一个链接[http://www.cnblogs.com/wmxfd/p/installation_for_ubuntu16_04_2.html](http://www.cnblogs.com/wmxfd/p/installation_for_ubuntu16_04_2.html)

```python
spci | grep -i nvidia #第一步先查看自己的显卡型号，然后根据自己显卡的型号到NVIDIA的官网上下载对应的驱动和duDNN
```
　　在写这篇博客的时候，NVIDIA的官网上，CUDA已经更新到了10.0的版本，找了好久才找到稳定版本的CUDA8.0版本，给出链接[https://developer.nvidia.com/cuda-80-ga2-download-archive](https://developer.nvidia.com/cuda-80-ga2-download-archive)。根据自己系统的型号下载对应的文件就可以了。驱动的话在官网上就可以下载了，给出384版本的下载链接[https://www.geforce.com/drivers/results/132524](https://www.geforce.com/drivers/results/132524)。

## 原有驱动的卸载
　　这部分直接是通过命令行进行操作的，所以直接上命令，也是在博客中找了好久，终于在自己的电脑上有能够使用的。<br>
　　还是一些题外话，在其中的一篇博客中看到可以在设置中的Software&Updates查看到自己电脑上的显卡驱动，直接进行选择后apply changes就能完成显卡驱动的安装，虽然这种方法在我自己的电脑上没有能够实现，但是可以在其中看到当前电脑上使用的驱动是什么版本型号的。

```python
sudo apt-get --purge remove nvidia-*
sudo apt-get --pruge remove xserver-xorg-video-nouveau
#上面的命令输入之后基本上就完成了之前驱动的卸载。
```
##屏蔽开源驱动nouveau
　　网上给出了两个方法：
- 在运行nvidia的驱动安装程序的时候，会提示是否需要进行屏蔽，选择yes就可以来了。
- 编辑blacklist.conf，sudo gedit /etc/modprobe.d/blacklist.conf，添加如下的内容。
```
blacklist vga16fb
blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
```