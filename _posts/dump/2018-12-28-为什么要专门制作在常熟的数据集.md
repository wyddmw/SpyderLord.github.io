---
layout: post
category: dump
title: 为什么要专门制作场数据集
description: 对题目这个问题的一点想法
---

## 为什么要专门制作特定场景下的数据集
　　这个问题最开始的时候我也没有完全想明白，即使是现在也只是在做数据集和看程序运行结果的基础上有了自己的一些想法，趁着现在还有一些思路把想到的东西整理下来：

### 针对特定输出不一定能直接找到适合我们的数据集
　　现成的做目标检测的数据集有很多，PASCALVOC以及COCO数据集都是非常常用的用来验证目标检测算法性能的数据集，但是这些数据集更多的是针对一些普适的目标，而且输出的类别很多，VOC的输出是20中，COCO的数据输出是90中，但是我们如果想要应用目标检测算法在一个实际的场景中，通常情况下，我们不会想要去识别那么多种分类，可能三类到五类左右吧，如果是这种情况下，使用上面说的数据集去训练就不合适了。如果我们想要识别的类别在数据集中被包含，倒也可以直接使用VOC等，但是没有必要输出20个分类的——直接放大了模型的尺寸，增加了参数的数量，实时性一定会受影响，而且多识别的那些分类显然是一种浪费。那么如果我们对输出层做一个调整，只是识别特定的几种分类，这样的话数据集中的很多图像是没有用的，输入到训练器中也是一种冗余。<br>
　　所以说，像VOC或是COCO这样的数据集并不适合用来做特定场景下的识别，更适合用来做算法的一个验证。<br>
　　因为我要做的是一个针对车辆、行人、骑行者三类的一个目标检器，之前有同事问我，为什么不直接使用类似于Kitti数据集这样的专门针对交通的数据集来使用呢？我当时其实也不太清楚应该如何回答这个问题，直接想到的一点是：那些数据集采集的场景和常熟的场景并不一样，也许我在Kitti数据集上通过训练得到了一个比较理想的结果，但是在常熟的环境下泛化的能力并不理想。此外，需要将各个独立的数据集整合成为一个大型的数据集，相当于分别训练在一张图中什么是车辆，什么是行人等，这样分开训练最后得到一个多种类的识别，效果好不好不知道，可能不会有很大的影响，但是要将多个数据集统一为一种格式的数据集，这本身也是一个很庞大的工作量。<br>
　　场景的影响确实是需要直接自己做数据集的原因，因为在图像识别的任务中，有一个很大的挑战就是场景的变换，或者说是训练器的泛化能力。当然这是深度学习中普遍会遇到的一个问题(其实我最近在想，为什么人们一直在强调深度学习存在这样一个泛化能力差的问题，搞得好像是其他常规的算法就不存在泛化能力差的问题。以控制里面非常经典的控制策略-PID来说，你换一个场景不也是也需要重新整定参数的吗？在图像里面，常规的算法是提取人工构建的一些特征，然后在这些人工提取的特征上进行分类识别等，但是针对不同的场景或是任务，我们能保证能提取到的一定是最有效的人工特征吗，我没有做过，我不知道，只是觉得也不好穷尽所有有效的特征，但是神经网络能够直接生成有效的特征，然后事实证明，这些通过训练提取出来的特征能够很好和我们的任务相匹配。只是现有的理论知识还不足以去分析这些神经网络得到的特征。现在博瑞车上红绿灯检测部分的算法，常规的算法，效果并不是很稳定啊，并不认为这种所谓的常规稳定的算法更鲁棒～)<br>
　　所以既然要在特定的环境下进行目标检测，还是在特定的环境下采集数据进行制作会有更好的效果。<br>

### 相机、光照强度、焦距、车辆等姿态
　　在常熟采集完数据之后，发现一个问题，相机受光照的影响很大，使用车载摄像头采集出来的图像，和我之前在kitti上看到的图像在光强以及图像质量上还是有很大差别的，在kitti这样的数据集上训练出来的模型，可能在常熟车载摄像头的图像上效果并不好，一方面是光照强度，另一方面是图像的质量。常熟使用的车载摄像头如果想要使其他物体看起来是正常的颜色，天空一定是处于过曝的状态。<br>
　　kitti的数据集中车辆在图像中都会占很大的一部分比例，而且图像也相对比较完整，但是我不但有识别车辆的要求，还有识别多少米以内的车辆、行人等的要求，这就对我需要能够识别到的车辆的大小提出了要求，如果我的数据集上大车的比例更大一些，那对小物体的识别性能应该就不会很出色。不同镜头的焦距会使得成像的大小也不同，所以相机不同，对于特定的比如说30m内的物体检测也会有不同的结果。<br>
　　突发奇想，想用之前基于VOC数据集没有训练好的模型对自己在常熟采集进行一个测试。有一些图像，对于远处很小很模糊的车辆也能给出一个置信度很低的回归框，但是对一个就在车正前方的姿态很正的尾部车辆视图，分类器竟然完全识别不到，也就是说，它不认识屁股朝着相机的车辆！所以，如果现成的数据集都是一些侧视图等，这对车辆的识别确实是有漏洞的。<br>

### conclusion
　　如果想在特定的场景下完成一个任务，还是最好根据特定的场景来制作数据集，哪怕是用现有的一些大数据量的数据集来预训练网络，然后用自己的一个小规模的数据集来进行调优也是可以的。<br>
　　把深度学习当做一种工具来使用～